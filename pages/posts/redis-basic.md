---
title: Redis - 基础
categories: 数据库
tags:
  - Redis
  - 后端
  - 数据库
  - NoSQL
---


##  初识Redis

Redis是一种键值型的NoSQL数据库，这里有两个关键字

- 键值型
- NoSQL

其中键值型是指Redis中存储的数据都是以Key-Value键值对的形式存储，而Value的形式多种多样，可以使字符串、数值甚至Json

而NoSQL则是相对于传统关系型数据库而言，有很大差异的一种数据库



## 认识NoSQL

`NoSql`可以翻译做Not Only Sql（不仅仅是SQL），或者是No Sql（非Sql的）数据库。是相对于传统关系型数据库而言，有很大差异的一种特殊的数据库，因此也称之为`非关系型数据库`。


### 结构化与非结构化

传统关系型数据库是结构化数据，每张表在创建的时候都有严格的约束信息，如字段名、字段数据类型、字段约束等，插入的数据必须遵循这些约束

而NoSQL则对数据库格式没有约束，可以是键值型，也可以是文档型，甚至是图格式



### 关联与非关联


传统数据库的表与表之间往往存在关联，例如外键约束

而非关系型数据库不存在关联关系，要维护关系要么靠代码中的业务逻辑，要么靠数据之间的耦合

```json
{
  id: 1,
  name: "张三",
  orders: [
    {
       id: 1,
       item: {
	 id: 10, title: "荣耀6", price: 4999
       }
    },
    {
       id: 2,
       item: {
	 id: 20, title: "小米11", price: 3999
       }
    }
  ]
}
```


例如此处要维护张三与两个手机订单的关系，不得不冗余的将这两个商品保存在张三的订单文档中，不够优雅，所以建议使用业务逻辑来维护关联关系


### 查询方式


传统关系型数据库会基于Sql语句做查询，语法有统一的标准
```sql
SELECT id, age FROM tb_user WHERE id = 1
```

而不同的非关系型数据库查询语法差异极大
```
Redis:  get user:1
MongoDB: db.user.find({_id: 1})
elasticsearch:  GET http://localhost:9200/users/1
```

### 事务

传统关系型数据库能满足事务的ACID原则(原子性、一致性、独立性及持久性)

而非关系型数据库汪汪不支持事务，或者不能要个保证ACID的特性，只能实现计本的一致性


**总结**

| 特性         | SQL                                      | NoSQL                                      |
|--------------|------------------------------------------|--------------------------------------------|
| 数据结构     | 结构化 (Structured)                      | 非结构化                                   |
| 数据关联     | 关联的 (Relational)                      | 无关联的                                   |
| 查询方式     | SQL 查询                                 | 非SQL                                      |
| 事务特性     | ACID                                     | BASE                                       |
| 存储方式     | 磁盘                                     | 内存                                       |
| 扩展性       | 垂直                                     | 水平                                       |
| 使用场景     | 1) 数据结构固定<br>2) 对一致性、安全性要求不高 | 1) 数据结构不固定<br>2) 相关业务对数据安全性、一致性要求较高<br>3) 对性能要求高 |



**存储方式**
- 关系型数据库基于磁盘进行存储，会有大量的磁盘IO，对性能有一定影响
- 非关系型数据库，他们的操作更多的是依赖于内存来操作，内存的读写速度会非常快，性能自然会好一些

**扩展性**
- 关系型数据库集群模式一般是主从，主从数据一致，起到数据备份的作用，称为垂直扩展。
- 非关系型数据库可以将数据拆分，存储在不同机器上，可以保存海量数据，解决内存大小有限的问题。称为水平扩展。
- 关系型数据库因为表之间存在关联关系，如果做水平扩展会给数据查询带来很多麻烦




